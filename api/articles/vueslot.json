{"title":"Vue slot(插槽)","slug":"vueslot","date":"2018-09-09T02:51:57.000Z","updated":"2018-10-02T15:01:49.429Z","comments":true,"path":"api/articles/vueslot.json","photos":[],"link":"","excerpt":"前言&emsp;&emsp;插槽是组件的一部分，当时做项目的时候使用到了插槽，并不是很懂，vue官网也没有说明的很清楚，只是说vue实现了一套内容分发的api，\\元素承载分发内容的出口。也就是说插槽是用来分发内容的。那就举个栗子说明一下：1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>// app<br>&lt;component-a&gt;<br>   这是插槽内容<br>&lt;/component-a&gt;<br><br>// component-a html<br>&lt;div&gt;<br>\thello，word！<br>&lt;/div&gt;<br>&emsp;&emsp;上面app中放了一个component-a组件，组件的内容是下面的，这样在浏览器中渲染出来的结果是什么呢？结果是只会渲染出组件中的内容。app中组件标签里的内容被抛弃了。我们在组件中加一下slot，会发现之前写在组件内的内容出来了，这就是插槽的作用，可以分发内容。意思就是如果不使用插槽，在组件标签内写的任何内容都是不会生效的。1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;<br>        &lt;component-a&gt;<br>            这是插槽内容<br>         &lt;/component-a&gt;<br>    &lt;/div&gt;<br>&lt;/body&gt;<br>    &lt;script&gt;<br>        Vue.component(&apos;component-a&apos;,&#123;<br>            template: `<br>            &lt;div&gt;hello,word!&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;<br>            `<br>        &#125;);<br><br>        const app = new Vue(&#123;<br>            el: &apos;#app&apos;,<br>            data() &#123;<br>                return &#123;&#125;;<br>            &#125;<br>        &#125;);<br>    &lt;/script&gt;<br>&emsp;&emsp;这个插槽也叫单个插槽。具名插槽&emsp;&emsp;具名插槽就是具有名字的插槽，在组件中给插槽取上名字，然后再组件标签内slot属性填上名字，它就会跟组件内的name一一对应。那么没有名字的就是默认插槽了。1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br>14<br>15<br>16<br>17<br>18<br>19<br>20<br>21<br>22<br>23<br>24<br>25<br>26<br>27<br>28<br>29<br>30<br>31<br>32<br>33<br>34<br>35<br>36<br>37<br>38<br>39<br>40<br>41<br>42<br>&lt;style&gt;<br>        .border &#123;<br>            border: 1px solid #e7494b;<br>        &#125;s<br>&lt;/style&gt;<br>&lt;/head&gt;<br>&lt;body&gt;<br>    &lt;div id=&quot;app&quot;&gt;<br>        &lt;component-a&gt;<br>            &lt;div&gt;<br>                默认插槽的内容<br>            &lt;/div&gt;<br>            &lt;template slot=&quot;slota&quot;&gt;<br>                插槽a的内容<br>            &lt;/template&gt;<br>            &lt;template slot=&quot;slotb&quot;&gt;<br>                插槽b的内容<br>            &lt;/template&gt;<br>         &lt;/component-a&gt;<br>    &lt;/div&gt;<br>&lt;/body&gt;<br>    &lt;script&gt;<br>        Vue.component(&apos;component-a&apos;,&#123;<br>            template: `<br>            &lt;div&gt;<br>              &lt;h2&gt;具名插槽&lt;/h2&gt;<br>              &lt;slot&gt;&lt;/slot&gt;<br>              &lt;div class=&quot;border&quot;&gt;&lt;/div&gt;<br>              &lt;slot name=&quot;slota&quot;&gt;&lt;/slot&gt;<br>              &lt;div class=&quot;border&quot;&gt;&lt;/div&gt;<br>              &lt;slot name=&quot;slotb&quot;&gt;&lt;/slot&gt;<br>            &lt;/div&gt;<br>            `<br>        &#125;);<br><br>        const app = new Vue(&#123;<br>            el: &apos;#app&apos;,<br>            data() &#123;<br>                return &#123;&#125;;<br>            &#125;<br>        &#125;);<br>    &lt;/script&gt;<br>作用域插槽","covers":null,"content":"<h2 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h2><p>&emsp;&emsp;插槽是组件的一部分，当时做项目的时候使用到了插槽，并不是很懂，vue官网也没有说明的很清楚，只是说vue实现了一套内容分发的api，\\<slot>元素承载分发内容的出口。也就是说插槽是用来分发内容的。那就举个栗子说明一下：</slot></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// app</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">component-a</span>&gt;</span></span><br><span class=\"line\">   这是插槽内容</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">component-a</span>&gt;</span></span><br><span class=\"line\"></span><br><span class=\"line\">// component-a html</span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\">\thello，word！</span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;上面app中放了一个component-a组件，组件的内容是下面的，这样在浏览器中渲染出来的结果是什么呢？结果是只会渲染出组件中的内容。app中组件标签里的内容被抛弃了。我们在组件中加一下slot，会发现之前写在组件内的内容出来了，这就是插槽的作用，可以分发内容。意思就是如果不使用插槽，在组件标签内写的任何内容都是不会生效的。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">        &lt;component-a&gt;</span><br><span class=\"line\">            这是插槽内容</span><br><span class=\"line\">         &lt;/component-a&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        Vue.component(&apos;component-a&apos;,&#123;</span><br><span class=\"line\">            template: `</span><br><span class=\"line\">            &lt;div&gt;hello,word!&lt;slot&gt;&lt;/slot&gt;&lt;/div&gt;</span><br><span class=\"line\">            `</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        const app = new Vue(&#123;</span><br><span class=\"line\">            el: &apos;#app&apos;,</span><br><span class=\"line\">            data() &#123;</span><br><span class=\"line\">                return &#123;&#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;这个插槽也叫单个插槽。</p>\n<h2 id=\"具名插槽\"><a href=\"#具名插槽\" class=\"headerlink\" title=\"具名插槽\"></a>具名插槽</h2><p>&emsp;&emsp;具名插槽就是具有名字的插槽，在组件中给插槽取上名字，然后再组件标签内slot属性填上名字，它就会跟组件内的name一一对应。那么没有名字的就是默认插槽了。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;style&gt;</span><br><span class=\"line\">        .border &#123;</span><br><span class=\"line\">            border: 1px solid #e7494b;</span><br><span class=\"line\">        &#125;s</span><br><span class=\"line\">&lt;/style&gt;</span><br><span class=\"line\">&lt;/head&gt;</span><br><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">        &lt;component-a&gt;</span><br><span class=\"line\">            &lt;div&gt;</span><br><span class=\"line\">                默认插槽的内容</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">            &lt;template slot=&quot;slota&quot;&gt;</span><br><span class=\"line\">                插槽a的内容</span><br><span class=\"line\">            &lt;/template&gt;</span><br><span class=\"line\">            &lt;template slot=&quot;slotb&quot;&gt;</span><br><span class=\"line\">                插槽b的内容</span><br><span class=\"line\">            &lt;/template&gt;</span><br><span class=\"line\">         &lt;/component-a&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        Vue.component(&apos;component-a&apos;,&#123;</span><br><span class=\"line\">            template: `</span><br><span class=\"line\">            &lt;div&gt;</span><br><span class=\"line\">              &lt;h2&gt;具名插槽&lt;/h2&gt;</span><br><span class=\"line\">              &lt;slot&gt;&lt;/slot&gt;</span><br><span class=\"line\">              &lt;div class=&quot;border&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">              &lt;slot name=&quot;slota&quot;&gt;&lt;/slot&gt;</span><br><span class=\"line\">              &lt;div class=&quot;border&quot;&gt;&lt;/div&gt;</span><br><span class=\"line\">              &lt;slot name=&quot;slotb&quot;&gt;&lt;/slot&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">            `</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        const app = new Vue(&#123;</span><br><span class=\"line\">            el: &apos;#app&apos;,</span><br><span class=\"line\">            data() &#123;</span><br><span class=\"line\">                return &#123;&#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<h2 id=\"作用域插槽\"><a href=\"#作用域插槽\" class=\"headerlink\" title=\"作用域插槽\"></a>作用域插槽</h2><p>&emsp;&emsp;其实上面两种插槽都很简单，一个就是默认插槽不进行命名，具名插槽就是给个名字，然后标签内的内容就会和组件中的名字一一对应，分发内容。</p>\n<p>&emsp;&emsp;作用域插槽就是可以把组件标签内的数据在组件元素中使用，我也不知道这样解释合不合理，先看个简单的例子把。</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">        &lt;component-a&gt;</span><br><span class=\"line\">            &lt;template slot-scope=&quot;name&quot;&gt;</span><br><span class=\"line\">                &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">            &lt;/template&gt;</span><br><span class=\"line\">        &lt;/component-a&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        Vue.component(&apos;component-a&apos;,&#123;</span><br><span class=\"line\">            template: `</span><br><span class=\"line\">            &lt;div&gt;</span><br><span class=\"line\">                &lt;slot say=&quot;hello&quot;&gt;&lt;/slot&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">            `</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        const app = new Vue(&#123;</span><br><span class=\"line\">            el: &apos;#app&apos;,</span><br><span class=\"line\">            data() &#123;</span><br><span class=\"line\">                return &#123;</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;在slot元素上定义一个属性，然后在template添加slot-scope，我们将结果放在标签内展示出来，会看到一个slot属性和值的键值对，这就是作用域插槽。</p>\n<p>&emsp;&emsp;再来看看这个例子：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&lt;body&gt;</span><br><span class=\"line\">    &lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">        &lt;component-a :lists=&quot;list&quot;&gt;</span><br><span class=\"line\">            &lt;template slot-scope=&quot;name&quot;&gt;</span><br><span class=\"line\">                &#123;&#123; name &#125;&#125;</span><br><span class=\"line\">            &lt;/template&gt;</span><br><span class=\"line\">        &lt;/component-a&gt;</span><br><span class=\"line\">    &lt;/div&gt;</span><br><span class=\"line\">&lt;/body&gt;</span><br><span class=\"line\">    &lt;script&gt;</span><br><span class=\"line\">        Vue.component(&apos;component-a&apos;,&#123;</span><br><span class=\"line\">            props: [&apos;lists&apos;],</span><br><span class=\"line\">            template: `</span><br><span class=\"line\">            &lt;div&gt;</span><br><span class=\"line\">               &lt;ol&gt;</span><br><span class=\"line\">                 &lt;li v-for=&quot;item in lists&quot;&gt;</span><br><span class=\"line\">                    &lt;slot :data=&quot;item&quot;&gt;&lt;/slot&gt;</span><br><span class=\"line\">                 &lt;/li&gt;</span><br><span class=\"line\">               &lt;/ol&gt;</span><br><span class=\"line\">            &lt;/div&gt;</span><br><span class=\"line\">            `</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        const app = new Vue(&#123;</span><br><span class=\"line\">            el: &apos;#app&apos;,</span><br><span class=\"line\">            data() &#123;</span><br><span class=\"line\">                return &#123;</span><br><span class=\"line\">                    list: [</span><br><span class=\"line\">                        &#123; no: 1, name: &apos;张三&apos; &#125;,</span><br><span class=\"line\">                        &#123; no: 2, name: &apos;李四&apos; &#125;,</span><br><span class=\"line\">                        &#123; no: 3, name: &apos;王五&apos; &#125;,</span><br><span class=\"line\">                        &#123; no: 4, name: &apos;陈六&apos; &#125;,</span><br><span class=\"line\">                        &#123; no: 5, name: &apos;吴七&apos; &#125;</span><br><span class=\"line\">                    ]</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">    &lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;如果你用过elementui，就会觉得很熟悉，table就是这样的。</p>\n<p>&emsp;&emsp;作用域插槽还是比较好用的，这篇文章也只是简单的介绍了插槽的使用和给了一些例子来方便说明。</p>\n","categories":[{"name":"vue","slug":"vue","count":6,"path":"api/categories/vue.json"}],"tags":[{"name":"slot","slug":"slot","count":1,"path":"api/tags/slot.json"}]}