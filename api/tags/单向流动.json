{"name":"单向流动","slug":"单向流动","count":1,"postlist":[{"title":"Vue数据单向流动","slug":"vue-sigleway-flow","date":"2018-09-02T05:33:00.000Z","updated":"2018-10-02T15:01:49.428Z","comments":true,"path":"api/articles/vue-sigleway-flow.json","excerpt":"<h2 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h2><hr>\n<p>  &emsp;&emsp;官方说法叫单向数据流，意思是父级prop的更新会向下流动到子组件中，但是反过来是不行的。为的是防止子组件修改父组件的状态。但是实际开发中我们可能会遇到以下两种情况：</p>\n<p>&emsp;&emsp;1. 需要使用并修改父组件传递的数据，但不需要回传给父组件</p>\n<p>&emsp;&emsp;2. 需要使用并修改父组件传递的数据并回传给父组件</p>\n<h2 id=\"问题\"><a href=\"#问题\" class=\"headerlink\" title=\"问题\"></a>问题</h2><p>&emsp;&emsp;如果我们将父组件prop的数据直接在input中进行了修改，vue在控制台中给出警告，栗子：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// html</span><br><span class=\"line\">&lt;div id=&quot;app&quot;&gt;</span><br><span class=\"line\">    &lt;p&gt;&#123;&#123; title &#125;&#125;&lt;/p&gt;</span><br><span class=\"line\">    &lt;conponent-son :title=&quot;title&quot;&gt;&lt;/conponent-son&gt;</span><br><span class=\"line\">&lt;/div&gt;</span><br><span class=\"line\">&lt;script&gt;</span><br><span class=\"line\">        Vue.component(&apos;conponent-son&apos;, &#123;</span><br><span class=\"line\">            props: [&apos;title&apos;],</span><br><span class=\"line\">            template: `&lt;div&gt;</span><br><span class=\"line\">                &lt;input type=&quot;text&quot; v-model=&quot;title&quot;&gt;</span><br><span class=\"line\">            &lt;/div&gt;`</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">        const app = new Vue(&#123;</span><br><span class=\"line\">            el: &apos;#app&apos;,</span><br><span class=\"line\">            data() &#123;</span><br><span class=\"line\">                return &#123;</span><br><span class=\"line\">                    title: &apos;文章&apos;,</span><br><span class=\"line\">                &#125;;</span><br><span class=\"line\">            &#125;,</span><br><span class=\"line\">            mounted() &#123;</span><br><span class=\"line\">                // 模拟异步加载数据</span><br><span class=\"line\">                window.setTimeout(()=&gt;&#123;</span><br><span class=\"line\">                    this.title = &apos;文章&apos;;</span><br><span class=\"line\">                &#125;,100);</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;);</span><br><span class=\"line\">&lt;/script&gt;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://i.loli.net/2018/09/02/5b8bb4fc4f1e6.png\" alt=\"错误\"></p>\n<h2 id=\"解决方案\"><a href=\"#解决方案\" class=\"headerlink\" title=\"解决方案\"></a>解决方案</h2>","keywords":null,"cover":"https://i.loli.net/2018/09/02/5b8bb4fc4f1e6.png","content":null,"text":"介绍  &emsp;&emsp;官方说法叫单向数据流，意思是父级prop的更新会向下流动到子组件中，但是反过来是不行的。为的是防止子组件修改父组件的状态。但是实际开发中我们可能会遇到以下两种情况：&emsp;&emsp;1. 需要使用并修改父组件传递的数据，但不需要回传给父组件&","link":"","raw":null,"photos":[],"categories":[{"name":"vue","slug":"vue","count":6,"path":"api/categories/vue.json"}],"tags":[{"name":"component","slug":"component","count":1,"path":"api/tags/component.json"},{"name":"单向流动","slug":"单向流动","count":1,"path":"api/tags/单向流动.json"}]}]}