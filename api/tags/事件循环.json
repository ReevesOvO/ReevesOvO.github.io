{"name":"事件循环","slug":"事件循环","count":1,"postlist":[{"title":"【转载】深入理解JavaScript事件循环(Eventloop)和microtask","slug":"eventloop","date":"2018-05-27T06:10:37.000Z","updated":"2018-10-02T15:01:49.427Z","comments":true,"path":"api/articles/eventloop.json","excerpt":"<p><strong>在做javascript练习题或者面试的时候，总会遇到下面这样的题目：</strong></p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> <span class=\"built_in\">console</span>.log(<span class=\"string\">\"1\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  setTimeout(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"2\"</span>);</span><br><span class=\"line\">  &#125;,<span class=\"number\">0</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">Promise</span>.resolve().then(<span class=\"function\"><span class=\"params\">()</span>=&gt;</span>&#123;</span><br><span class=\"line\">    <span class=\"built_in\">console</span>.log(<span class=\"string\">\"3\"</span>);</span><br><span class=\"line\">  &#125;);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"built_in\">console</span>.log(<span class=\"string\">\"4\"</span>);</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// 控制台输出1 4 3 2</span></span><br></pre></td></tr></table></figure>\n<p>&emsp;&emsp;想知道为什么是这样的结果，就必须理解javascript的eventloop机制，推荐这位博主DongXu的两篇文章，这里就不转载全文了，推荐大家去他的博客看，还有生动的demo，很容易懂。</p>\n<blockquote>\n<p><a href=\"http://www.cnblogs.com/dong-xu/p/7000163.html\" target=\"_blank\" rel=\"noopener\">深入理解 JavaScript 事件循环（一）— event loop</a> </p>\n<p><a href=\"http://www.cnblogs.com/dong-xu/p/7000139.html\" target=\"_blank\" rel=\"noopener\">[译]深入理解 JavaScript 事件循环（二）— task and microtask</a></p>\n</blockquote>\n","keywords":null,"cover":null,"content":null,"text":"在做javascript练习题或者面试的时候，总会遇到下面这样的题目：1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>10<br>11<br>12<br>13<br> console.log(\"1\");<br><br>  setTimeo","link":"","raw":null,"photos":[],"categories":[{"name":"javascript","slug":"javascript","count":3,"path":"api/categories/javascript.json"}],"tags":[{"name":"eventloop","slug":"eventloop","count":1,"path":"api/tags/eventloop.json"},{"name":"事件循环","slug":"事件循环","count":1,"path":"api/tags/事件循环.json"}]}]}